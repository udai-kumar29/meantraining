<div class="service-list" layout-padding>
    <section ng-if="!vm.isDetailShown" ><!-- class="animated fadeleft" -->
        <!-- Toolbar -->
        <md-toolbar class="list-title md-whiteframe-3dp" ng-if="vm.toolbar">
            <div class="md-toolbar-tools">
                <i class="material-icons" ng-if="vm.toolbar.icon">{{vm.toolbar.icon}}</i>
                <span style="margin: 0 10px 0 10px" ng-if="vm.toolbar.title">{{vm.toolbar.title | translate}}</span>
            </div>
        </md-toolbar>

        <!-- Content -->
        <md-list layout="column">

            <!-- Header -->
            <md-list-item layout="row" class="list-header" ng-if="vm.headers && !vm.model.goMobile()">
                <div flex="100" class="header-item" ng-repeat="header in vm.headers track by $index">
                    {{header | translate}}
                </div>
            </md-list-item>

            <!-- Each row animated fadeleft-->
            <md-list-item
                class="list-row"
                ng-class="{bottomBorder: !$last && !vm.model.goMobile(), highlight: vm.shouldHighlightRow(item)}"
                ng-if="vm.items"
                layout="row"
                ng-repeat="item in vm.items
                | orderBy: vm.getOrderBy()
                | limitTo: vm.getLimitTo()
                as results track by $index">
                <ttmd-table-item flex="100" item="item" headers="vm.headers" has-transclude="vm.hasTransclude('actions')"
                                 ng-click="vm.hasTransclude('details') && vm.showDetail(item, $event);">
                    <div ng-if="vm.hasTransclude('actions')" ng-transclude="actions" layout="row" flex="100"></div>
                </ttmd-table-item>
            </md-list-item>

            <!-- TODO: In config() teach the tranlstaions-->
            <!-- No result -->
            <md-list-item ng-if="results.length === 0">
                {{'util.noData'|translate}}
            </md-list-item>
        </md-list>

        <!-- Pagination -->
        <ttmd-pagination
            ng-if="vm.totalNumber"
            model="vm.model"
            list="{{vm.type}}"
            limits="vm.limits"
            total-number="vm.totalNumber"
            cb="vm.updateList(model)"
        ></ttmd-pagination>
    </section>

    <!-- Row Detail -->
    <ttmd-detail-view ng-if="vm.isDetailShown && vm.hasTransclude('details')">
        <div ng-transclude="details"></div>
    </ttmd-detail-view>
</div>

